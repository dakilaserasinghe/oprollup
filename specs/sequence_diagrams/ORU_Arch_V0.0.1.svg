<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1334" height="1380"><desc>title%20Optimistic%20Rollup%20Architecture%20Draft%20V0.0.1%20%0A%0Aparticipant%20Alice%0Aparticipant%20Bob%0Aparticipant%20Smart%20Contract%0Aparticipant%20Sequencer%0Aparticipant%20Verifier%0A%0A%0A%0AAlice-%3ESmart%20Contract%3Adeposit%20ETH%20**deposit()**%20(L1)%0ASmart%20Contract-%3ESequencer%3A%20emit%20**Deposit()**%0A%0ABob-%3ESmart%20Contract%3A%20deposit%20ETH%20**deposit()**%20(L1)%0ASmart%20Contract-%3ESequencer%3A%20emit%20**Deposit()**%0A%0A%0Anote%20left%20of%20Smart%20Contract%3Aafter%20few%20mins%20balances%20available%20in%20L2%0A%0AAlice--%3E%3ESequencer%3A%20transfer%20money%20**transfer(_to%2C%20_amount)**%20(L2)%0ASequencer--%3E%3EAlice%3A%20Response%20with%20Tx%20**PENDING**%20state%0A%0ABob--%3E%3ESequencer%3A%20transfer%20money%20**transfer(_to%2C%20_amount)**%20(L2)%0ASequencer--%3E%3EBob%3A%20Response%20with%20Tx%20**PENDING**%20state%0A%0A%0Anote%20over%20Sequencer%3A%20Lock%20Tx%20Block%0Anote%20over%20Sequencer%3A%20Sequencer%20get%20the%20transactions%20in%20the%20mempool%20as%20recieved%3B%0Anote%20over%20Sequencer%3A%201.%20Validate%20Txs.%0ABob--%3E%3ESequencer%3A%20check%20Tx%20status%20**status(_txId)**%20(L2)%0ASequencer--%3E%3EBob%3A%20Response%20with%20Tx%20**ACCEPTED_IN_L2**%20state%3A%20soft%20finality%0A%0Anote%20over%20Sequencer%3A%202.%20Sequence%20Txs.%0Anote%20over%20Sequencer%3A%203.%20Execute%20Txs.%0Anote%20over%20Sequencer%3A%204.%20Generate%20the%20State%20Root%20(Merkle%20Tree).%0A%0ASequencer-%3ESmart%20Contract%3A%20Sequenced%20Batch%20Submission.%20Compressed%20Txs%2C%20transaction%20Root%20and%20State%20Root.%0A%0ASmart%20Contract-%3EVerifier%3A%20emit%20Compressed%20Txs%20and%5Cn%20State%20Root%20of%20latest%20Block.%0A%0A%0Anote%20left%20of%20Verifier%3A%20Verifier%20decompress%20the%20Tx%20bundle%20then%20execute%20them%20in%20the%20order%2C%5Cn%20against%20his%20previous%20state%20root%20and%20account%20balances.%0Anote%20left%20of%20Verifier%3A%20If%20he%20finds%20a%20malicious%20Tx%20aka%20a%20different%20State%20Root%2C%5Cn%20he%20challenge%20the%20submitted%20block%20by%20the%20sequencer.%0ASmart%20Contract%3C-Verifier%3A%20Challenge%20**challenge(_newStateRoot%2C%20_balances%2C%20_txs)**%0Anote%20over%20Smart%20Contract%3A%20Smart%20Contract%20recreate%20the%20State%20Root%20with%20_balances%20and%20_txs%0A%0ASmart%20Contract-%3ESequencer%3A%20emit%20Resolution(Correct%20State%20Root)%0ASmart%20Contract-%3EVerifier%3A%20emit%20Resolution(Correct%20State%20Root)%0A%0AAlice--%3E%3ESequencer%3A%20Withdraw%20money%20**withdraw(_amount)**%0ASequencer-%3ESmart%20Contract%3A%20Sequenced%20Batch%20Submission%0A%0Anote%20left%20of%20Sequencer%3A%20After%20a%20successful%20challenge%20period%20Sequencer%20%5Cnwill%20release%20funds%20for%20the%20withdrawal%20requests%5Cnin%20the%20finalized%20block.%0ASequencer-%3ESmart%20Contract%3A%20unlock%20Alice's%20funds%20**unlockFunds(_alice%2C%20_amount)**%0AAlice-%3ESmart%20Contract%3A%20withdraw%20money%20from%20L1%20**withdraw(_amount)**</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="1334" height="1380"/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="13.5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="496.19398122249993" y="18.8483115" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Optimistic Rollup Architecture Draft V0.0.1 </text></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 32.9212652975 73.75972567 L 32.9212652975 1380.5759896700001" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray="9.665800769230769,4.188513666666666"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 171.69973402666665 73.75972567 L 171.69973402666665 1380.5759896700001" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray="9.665800769230769,4.188513666666666"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 425.56402420166665 73.75972567 L 425.56402420166665 1380.5759896700001" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray="9.665800769230769,4.188513666666666"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 897.3065085349999 73.75972567 L 897.3065085349999 1380.5759896700001" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray="9.665800769230769,4.188513666666666"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1295.9207987099999 73.75972567 L 1295.9207987099999 1380.5759896700001" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray="9.665800769230769,4.188513666666666"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 6.282770500000002 39.83276497 L 59.559760095 39.83276497 L 59.559760095 73.75972567 L 6.282770500000002 73.75972567 L 6.282770500000002 39.83276497 Z" stroke-miterlimit="10" stroke-width="2.01048656" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="19.916382485" y="61.19418466999999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Alice</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 147.39034079166666 39.83276497 L 196.00912726166666 39.83276497 L 196.00912726166666 73.75972567 L 147.39034079166666 73.75972567 L 147.39034079166666 39.83276497 Z" stroke-miterlimit="10" stroke-width="2.01048656" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="161.02395277666665" y="61.19418466999999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Bob</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 371.58568565416664 39.83276497 L 479.5423627491666 39.83276497 L 479.5423627491666 73.75972567 L 371.58568565416664 73.75972567 L 371.58568565416664 39.83276497 Z" stroke-miterlimit="10" stroke-width="2.01048656" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="385.21929763916665" y="61.19418466999999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Smart Contract</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 854.6514121749999 39.83276497 L 939.9616048949999 39.83276497 L 939.9616048949999 73.75972567 L 854.6514121749999 73.75972567 L 854.6514121749999 39.83276497 Z" stroke-miterlimit="10" stroke-width="2.01048656" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="868.2850241599999" y="61.19418466999999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Sequencer</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1263.6133585999999 39.83276497 L 1328.22823882 39.83276497 L 1328.22823882 73.75972567 L 1263.6133585999999 73.75972567 L 1263.6133585999999 39.83276497 Z" stroke-miterlimit="10" stroke-width="2.01048656" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1277.2469705849999" y="61.19418466999999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Verifier</text></g></g><g><g><g><rect fill="white" stroke="none" x="155.00918078708335" y="98.89080766999999" width="148.466927925" height="16.3352033"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="156.89401193708335" y="110.19979456999998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">deposit ETH </text><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="bold" text-decoration="normal" x="226.25729318708335" y="110.19979456999998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">deposit()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="276.91744943708335" y="110.19979456999998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> (L1)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 32.9212652975 115.22601096999999 L 415.218395445 115.22601096999999" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray=""/><g transform="translate(425.56402420166665,115.22601096999999) translate(-425.56402420166665,-115.22601096999999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 415.09274003499996 109.99036888666666 L 425.56402420166665 115.22601096999999 L 415.09274003499996 120.46165305333332 Z"/></g></g><g><g><rect fill="white" stroke="none" x="620.5504352183333" y="134.07432247" width="81.7696623" height="16.3352033"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="622.4352663683333" y="145.38330937" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">emit </text><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="bold" text-decoration="normal" x="648.4391726183333" y="145.38330937" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Deposit()</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 425.56402420166665 150.40952577 L 886.9608797783333 150.40952577" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray=""/><g transform="translate(897.3065085349999,150.40952577) translate(-897.3065085349999,-150.40952577)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 886.8352243683332 145.17388368666664 L 897.3065085349999 150.40952577 L 886.8352243683332 155.64516785333333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="224.39841515166663" y="169.25783726999998" width="148.466927925" height="16.3352033"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="226.28324630166662" y="180.56682417" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">deposit ETH </text><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="bold" text-decoration="normal" x="295.6465275516666" y="180.56682417" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">deposit()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="346.3066838016666" y="180.56682417" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> (L1)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 171.69973402666665 185.59304056999997 L 415.218395445 185.59304056999997" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray=""/><g transform="translate(425.56402420166665,185.59304056999997) translate(-425.56402420166665,-185.59304056999997)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 415.09274003499996 180.35739848666663 L 425.56402420166665 185.59304056999997 L 415.09274003499996 190.82868265333332 Z"/></g></g><g><g><rect fill="white" stroke="none" x="620.5504352183333" y="204.44135207" width="81.7696623" height="16.3352033"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="622.4352663683333" y="215.75033897" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">emit </text><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="bold" text-decoration="normal" x="648.4391726183333" y="215.75033897" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Deposit()</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 425.56402420166665 220.77655536999998 L 886.9608797783333 220.77655536999998" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray=""/><g transform="translate(897.3065085349999,220.77655536999998) translate(-897.3065085349999,-220.77655536999998)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 886.8352243683332 215.54091328666664 L 897.3065085349999 220.77655536999998 L 886.8352243683332 226.01219745333333 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 425.56402420166665 254.07523902 L 419.2812537016666 254.07523902 M 177.98250452666665 239.62486687 L 407.97226680166665 239.62486687 L 419.2812537016666 250.93385377 L 419.2812537016666 268.52561117 L 177.98250452666665 268.52561117 L 177.98250452666665 239.62486687 M 407.97226680166665 239.62486687 L 407.97226680166665 250.93385377 L 419.2812537016666 250.93385377" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="195.57426192666662" y="257.21662427" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">after few mins balances available in L2</text></g><g><g><rect fill="white" stroke="none" x="345.5347198287499" y="287.37392267" width="239.158334175" height="16.3352033"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="347.41955097874995" y="298.68290957" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">transfer money </text><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="bold" text-decoration="normal" x="430.78673847874995" y="298.68290957" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">transfer(_to, _amount)</text><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="558.13439472875" y="298.68290957" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> (L2)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 32.9212652975 303.70912597 L 895.7358159099999 303.70912597" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray="5.0262164"/><g transform="translate(897.3065085349999,303.70912597) translate(-897.3065085349999,-303.70912597)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 886.5409359326507 298.90651251952045 L 896.1293547922695 303.70912597 L 886.5409359326507 308.51173942047956" stroke-miterlimit="10" stroke-width="1.0471284166666666"/></g></g><g><g><rect fill="white" stroke="none" x="371.8638213912499" y="322.55743747" width="186.50013105" height="16.3352033"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="373.74865254124995" y="333.86642437" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Response with Tx </text><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="bold" text-decoration="normal" x="472.45568379124995" y="333.86642437" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">PENDING</text><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="527.12951191625" y="333.86642437" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> state</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 897.3065085349999 338.89264077 L 34.4919579225 338.89264077" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray="5.0262164"/><g transform="translate(32.9212652975,338.89264077) translate(-32.9212652975,-338.89264077)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 43.68683789984925 334.09002731952046 L 34.09841904023037 338.89264077 L 43.68683789984925 343.69525422047957" stroke-miterlimit="10" stroke-width="1.0471284166666666"/></g></g><g><g><rect fill="white" stroke="none" x="414.92395419333326" y="357.74095227000004" width="239.158334175" height="16.3352033"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="416.8087853433333" y="369.04993917" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">transfer money </text><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="bold" text-decoration="normal" x="500.1759728433333" y="369.04993917" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">transfer(_to, _amount)</text><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="627.5236290933333" y="369.04993917" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> (L2)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 171.69973402666665 374.07615557 L 895.7358159099999 374.07615557" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray="5.0262164"/><g transform="translate(897.3065085349999,374.07615557) translate(-897.3065085349999,-374.07615557)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 886.5409359326507 369.27354211952047 L 896.1293547922695 374.07615557 L 886.5409359326507 378.8787690204796" stroke-miterlimit="10" stroke-width="1.0471284166666666"/></g></g><g><g><rect fill="white" stroke="none" x="441.25305575583326" y="392.92446707000005" width="186.50013105" height="16.3352033"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="443.1378869058333" y="404.23345397" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Response with Tx </text><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="bold" text-decoration="normal" x="541.8449181558333" y="404.23345397" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">PENDING</text><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="596.5187462808333" y="404.23345397" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> state</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 897.3065085349999 409.25967037000004 L 173.27042665166664 409.25967037000004" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray="5.0262164"/><g transform="translate(171.69973402666665,409.25967037000004) translate(-171.69973402666665,-409.25967037000004)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 182.4653066290159 404.4570569195205 L 172.876887769397 409.25967037000004 L 182.4653066290159 414.0622838204796" stroke-miterlimit="10" stroke-width="1.0471284166666666"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 842.3700245724999 428.10798187000006 L 940.9340055974999 428.10798187000006 L 952.2429924974999 439.41696877000004 L 952.2429924974999 457.00872617000005 L 842.3700245724999 457.00872617000005 L 842.3700245724999 428.10798187000006 M 940.9340055974999 428.10798187000006 L 940.9340055974999 439.41696877000004 L 952.2429924974999 439.41696877000004" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="859.9617819724999" y="445.69973927" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Lock Tx Block</text></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 719.9559620724999 475.85703767000007 L 1063.3480680975 475.85703767000007 L 1074.6570549975 487.16602457000005 L 1074.6570549975 504.75778197000005 L 719.9559620724999 504.75778197000005 L 719.9559620724999 475.85703767000007 M 1063.3480680975 475.85703767000007 L 1063.3480680975 487.16602457000005 L 1074.6570549975 487.16602457000005" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="737.5477194724999" y="493.44879507" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Sequencer get the transactions in the mempool as recieved;</text></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 838.8075245724999 523.60609347 L 944.4965055974999 523.60609347 L 955.8054924974999 534.91508037 L 955.8054924974999 552.5068377700001 L 838.8075245724999 552.5068377700001 L 838.8075245724999 523.60609347 M 944.4965055974999 523.60609347 L 944.4965055974999 534.91508037 L 955.8054924974999 534.91508037" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="856.3992819724999" y="541.19785087" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">1. Validate Txs.</text></g><g><g><rect fill="white" stroke="none" x="441.26184481833326" y="571.3551492700001" width="186.482552925" height="16.3352033"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="443.1466759683333" y="582.6641361700001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">check Tx status </text><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="bold" text-decoration="normal" x="529.8419884683333" y="582.6641361700001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">status(_txId)</text><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="601.1857384683333" y="582.6641361700001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> (L2)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 171.69973402666665 587.6903525700001 L 895.7358159099999 587.6903525700001" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray="5.0262164"/><g transform="translate(897.3065085349999,587.6903525700001) translate(-897.3065085349999,-587.6903525700001)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 886.5409359326507 582.8877391195205 L 896.1293547922695 587.6903525700001 L 886.5409359326507 592.4929660204797" stroke-miterlimit="10" stroke-width="1.0471284166666666"/></g></g><g><g><rect fill="white" stroke="none" x="384.23254794333326" y="606.5386640700001" width="300.541146675" height="16.3352033"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="386.1173790933333" y="617.8476509700001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Response with Tx </text><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="bold" text-decoration="normal" x="484.8244103433333" y="617.8476509700001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">ACCEPTED_IN_L2</text><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="590.1818322183333" y="617.8476509700001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> state: soft finality</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 897.3065085349999 622.8738673700001 L 173.27042665166664 622.8738673700001" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray="5.0262164"/><g transform="translate(171.69973402666665,622.8738673700001) translate(-171.69973402666665,-622.8738673700001)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 182.4653066290159 618.0712539195205 L 172.876887769397 622.8738673700001 L 182.4653066290159 627.6764808204797" stroke-miterlimit="10" stroke-width="1.0471284166666666"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 833.0213917599999 641.72217887 L 950.2826384099999 641.72217887 L 961.5916253099999 653.03116577 L 961.5916253099999 670.62292317 L 833.0213917599999 670.62292317 L 833.0213917599999 641.72217887 M 950.2826384099999 641.72217887 L 950.2826384099999 653.03116577 L 961.5916253099999 653.03116577" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="850.6131491599999" y="659.31393627" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">2. Sequence Txs.</text></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 838.3651417599999 689.47123467 L 944.9388884099999 689.47123467 L 956.2478753099999 700.78022157 L 956.2478753099999 718.37197897 L 838.3651417599999 718.37197897 L 838.3651417599999 689.47123467 M 944.9388884099999 689.47123467 L 944.9388884099999 700.78022157 L 956.2478753099999 700.78022157" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="855.9568991599999" y="707.06299207" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">3. Execute Txs.</text></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 768.8876026974999 737.2202904699999 L 1014.4164274724999 737.2202904699999 L 1025.7254143725 748.5292773699999 L 1025.7254143725 766.1210347699999 L 768.8876026974999 766.1210347699999 L 768.8876026974999 737.2202904699999 M 1014.4164274724999 737.2202904699999 L 1014.4164274724999 748.5292773699999 L 1025.7254143725 748.5292773699999" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="786.4793600974999" y="754.8120478699999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">4. Generate the State Root (Merkle Tree).</text></g><g><g><rect fill="white" stroke="none" x="440.43324771833323" y="784.96934627" width="442.0040373" height="16.3352033"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="442.31807886833326" y="796.27833317" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Sequenced Batch Submission. Compressed Txs, transaction Root and State Root.</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 897.3065085349999 801.30454957 L 435.9096529583333 801.30454957" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray=""/><g transform="translate(425.56402420166665,801.30454957) translate(-425.56402420166665,-801.30454957)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 436.03530836833335 796.0689074866666 L 425.56402420166665 801.30454957 L 436.03530836833335 806.5401916533333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="788.1554318683333" y="820.1528610699999" width="143.82044355" height="16.3352033"/></g><g><rect fill="white" stroke="none" x="788.1554318683333" y="832.7184020699999" width="145.173959175" height="16.3352033"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="790.0402630183332" y="831.4618479699999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">emit Compressed Txs and</text><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="790.0402630183332" y="844.02738897" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> State Root of latest Block.</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 425.56402420166665 849.0536053699999 L 1285.5751699533332 849.0536053699999" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray=""/><g transform="translate(1295.9207987099999,849.0536053699999) translate(-1295.9207987099999,-849.0536053699999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1285.4495145433332 843.8179632866666 L 1295.9207987099999 849.0536053699999 L 1285.4495145433332 854.2892474533332 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1295.9207987099999 888.6350595199999 L 1289.63802821 888.6350595199999 M 903.5892790349999 867.9019168699999 L 1278.3290413099999 867.9019168699999 L 1289.63802821 879.21090377 L 1289.63802821 909.3682021699999 L 903.5892790349999 909.3682021699999 L 903.5892790349999 867.9019168699999 M 1278.3290413099999 867.9019168699999 L 1278.3290413099999 879.21090377 L 1289.63802821 879.21090377" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="921.1810364349999" y="885.4936742699999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Verifier decompress the Tx bundle then execute them in the order,</text><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="921.1810364349999" y="898.05921527" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> against his previous state root and account balances.</text></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1295.9207987099999 948.9496563199999 L 1289.63802821 948.9496563199999 M 978.2728727849999 928.2165136699999 L 1278.3290413099999 928.2165136699999 L 1289.63802821 939.52550057 L 1289.63802821 969.6827989699999 L 978.2728727849999 969.6827989699999 L 978.2728727849999 928.2165136699999 M 1278.3290413099999 928.2165136699999 L 1278.3290413099999 939.52550057 L 1289.63802821 939.52550057" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="995.8646301849999" y="945.8082710699999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">If he finds a malicious Tx aka a different State Root,</text><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="995.8646301849999" y="958.37381207" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> he challenge the submitted block by the sequencer.</text></g><g><g><rect fill="white" stroke="none" x="707.4630490558333" y="988.5311104699999" width="306.5587248" height="16.3352033"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="709.3478802058332" y="999.84009737" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Challenge </text><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="bold" text-decoration="normal" x="766.7228802058332" y="999.84009737" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">challenge(_newStateRoot, _balances, _txs)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1295.9207987099999 1004.8663137699999 L 435.9096529583333 1004.8663137699999" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray=""/><g transform="translate(425.56402420166665,1004.8663137699999) translate(-425.56402420166665,-1004.8663137699999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 436.03530836833335 999.6306716866666 L 425.56402420166665 1004.8663137699999 L 436.03530836833335 1010.1019558533333 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 238.21738398916665 1023.7146252699999 L 601.6016775141666 1023.7146252699999 L 612.9106644141666 1035.02361217 L 612.9106644141666 1052.61536957 L 238.21738398916665 1052.61536957 L 238.21738398916665 1023.7146252699999 M 601.6016775141666 1023.7146252699999 L 601.6016775141666 1035.02361217 L 612.9106644141666 1035.02361217" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="255.80914138916665" y="1041.30638267" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Smart Contract recreate the State Root with _balances and _txs</text></g><g><g><rect fill="white" stroke="none" x="564.5143024058333" y="1071.46368107" width="193.841927925" height="16.3352033"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="566.3991335558333" y="1082.77266797" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">emit Resolution(Correct State Root)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 425.56402420166665 1087.79888437 L 886.9608797783333 1087.79888437" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray=""/><g transform="translate(897.3065085349999,1087.79888437) translate(-897.3065085349999,-1087.79888437)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 886.8352243683332 1082.5632422866668 L 897.3065085349999 1087.79888437 L 886.8352243683332 1093.0345264533332 Z"/></g></g><g><g><rect fill="white" stroke="none" x="763.8214474933333" y="1106.64719587" width="193.841927925" height="16.3352033"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="765.7062786433332" y="1117.95618277" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">emit Resolution(Correct State Root)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 425.56402420166665 1122.98239917 L 1285.5751699533332 1122.98239917" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray=""/><g transform="translate(1295.9207987099999,1122.98239917) translate(-1295.9207987099999,-1122.98239917)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1285.4495145433332 1117.7467570866668 L 1295.9207987099999 1122.98239917 L 1285.4495145433332 1128.2180412533332 Z"/></g></g><g><g><rect fill="white" stroke="none" x="361.8823760787499" y="1141.83071067" width="206.463021675" height="16.3352033"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="363.76720722874995" y="1153.13969757" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Withdraw money </text><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="bold" text-decoration="normal" x="456.46251972874995" y="1153.13969757" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">withdraw(_amount)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 32.9212652975 1158.16591397 L 895.7358159099999 1158.16591397" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray="5.0262164"/><g transform="translate(897.3065085349999,1158.16591397) translate(-897.3065085349999,-1158.16591397)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 886.5409359326507 1153.3633005195206 L 896.1293547922695 1158.16591397 L 886.5409359326507 1162.9685274204794" stroke-miterlimit="10" stroke-width="1.0471284166666666"/></g></g><g><g><rect fill="white" stroke="none" x="579.4996539683333" y="1177.01422547" width="163.8712248" height="16.3352033"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="581.3844851183333" y="1188.32321237" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Sequenced Batch Submission</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 897.3065085349999 1193.34942877 L 435.9096529583333 1193.34942877" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray=""/><g transform="translate(425.56402420166665,1193.34942877) translate(-425.56402420166665,-1193.34942877)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 436.03530836833335 1188.1137866866668 L 425.56402420166665 1193.34942877 L 436.03530836833335 1198.5850708533333 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 897.3065085349999 1239.2136534200001 L 891.023738035 1239.2136534200001 M 605.0238169849999 1212.1977402700002 L 879.7147511349999 1212.1977402700002 L 891.023738035 1223.5067271700002 L 891.023738035 1266.22956657 L 605.0238169849999 1266.22956657 L 605.0238169849999 1212.1977402700002 M 879.7147511349999 1212.1977402700002 L 879.7147511349999 1223.5067271700002 L 891.023738035 1223.5067271700002" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="622.615574385" y="1229.7894976700002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">After a successful challenge period Sequencer </text><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="622.615574385" y="1242.35503867" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">will release funds for the withdrawal requests</text><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="622.615574385" y="1254.92057967" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">in the finalized block.</text></g><g><g><rect fill="white" stroke="none" x="519.0309039683333" y="1285.07787807" width="284.8087248" height="16.3352033"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="520.9157351183333" y="1296.38686497" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">unlock Alice's funds </text><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="bold" text-decoration="normal" x="629.2614382433333" y="1296.38686497" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">unlockFunds(_alice, _amount)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 897.3065085349999 1301.41308137 L 435.9096529583333 1301.41308137" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray=""/><g transform="translate(425.56402420166665,1301.41308137) translate(-425.56402420166665,-1301.41308137)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 436.03530836833335 1296.1774392866669 L 425.56402420166665 1301.41308137 L 436.03530836833335 1306.6487234533333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="105.33339953708335" y="1320.26139287" width="247.818490425" height="16.3352033"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="107.21823068708335" y="1331.57037977" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">withdraw money from L1 </text><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="bold" text-decoration="normal" x="241.26901193708335" y="1331.57037977" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">withdraw(_amount)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 32.9212652975 1336.59659617 L 415.218395445 1336.59659617" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray=""/><g transform="translate(425.56402420166665,1336.59659617) translate(-425.56402420166665,-1336.59659617)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 415.09274003499996 1331.3609540866669 L 425.56402420166665 1336.59659617 L 415.09274003499996 1341.8322382533333 Z"/></g></g></g><g/><g/><g/><g/><g/></g></svg>